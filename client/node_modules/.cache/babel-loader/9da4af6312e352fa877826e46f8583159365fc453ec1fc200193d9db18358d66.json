{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\abhin\\\\OneDrive\\\\Desktop\\\\Projects\\\\BullsEmarket\\\\client\\\\src\\\\components\\\\ItemList.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useContext, useState } from 'react';\nimport ItemFetch from '../apis/ItemFetch';\nimport ImageFetch from '../apis/ImageFetch';\nimport { ItemListContext } from '../context/ItemListContext';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ItemList(props) {\n  _s();\n  const {\n    items,\n    setItems\n  } = useContext(ItemListContext);\n  const handleImage = async imageid => {\n    try {\n      const response = await ImageFetch.get(`/${imageid}`);\n      console.log(JSON.stringify(response.data.data.items[0].imagepath));\n      return response.data.data.items[0].imagepath;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await ItemFetch.get(\"/\");\n        const updatedItems = await Promise.all(response.data.data.items.map(async item => {\n          const newImageId = await handleImage(item.imageid);\n          console.log(newImageId);\n          return {\n            ...item,\n            imageid: newImageId\n          };\n        }));\n        setItems(updatedItems);\n      } catch (err) {\n        console.log(err);\n      }\n    };\n    fetchData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid mt-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4 col-sm-6 mb-4\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/item/${item.id}`,\n          className: \"text-dark text-decoration-none\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card h-100\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.imageid,\n              className: \"card-img-top\",\n              alt: item.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"card-title\",\n                children: item.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-text\",\n                children: item.price\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 50,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-text\",\n                children: item.isSold ? 'SOLD' : 'AVAILABLE'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this)\n      }, item.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_s(ItemList, \"SaAKr+ePxIAvDVXq9dvQxmJ4WSA=\");\n_c = ItemList;\n;\nvar _c;\n$RefreshReg$(_c, \"ItemList\");","map":{"version":3,"names":["React","useEffect","useContext","useState","ItemFetch","ImageFetch","ItemListContext","Link","jsxDEV","_jsxDEV","ItemList","props","_s","items","setItems","handleImage","imageid","response","get","console","log","JSON","stringify","data","imagepath","err","fetchData","updatedItems","Promise","all","map","item","newImageId","className","children","to","id","src","alt","title","fileName","_jsxFileName","lineNumber","columnNumber","price","isSold","_c","$RefreshReg$"],"sources":["C:/Users/abhin/OneDrive/Desktop/Projects/BullsEmarket/client/src/components/ItemList.jsx"],"sourcesContent":["import React,{useEffect, useContext, useState} from 'react'\r\nimport ItemFetch from '../apis/ItemFetch';\r\nimport ImageFetch from '../apis/ImageFetch';\r\nimport { ItemListContext } from '../context/ItemListContext';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function ItemList(props) {\r\n  const {items, setItems} = useContext(ItemListContext);\r\n\r\n  const handleImage = async(imageid)=>{\r\n    try{\r\n      const response = await ImageFetch.get(`/${imageid}`);\r\n      console.log(JSON.stringify(response.data.data.items[0].imagepath));\r\n      return(response.data.data.items[0].imagepath);\r\n\r\n    }catch(err){\r\n      console.log(err);\r\n    }\r\n\r\n  }\r\n  useEffect(() => {\r\n    const fetchData = async () =>{\r\n      try{\r\n        const response = await ItemFetch.get(\"/\");\r\n        const updatedItems = await Promise.all(response.data.data.items.map(async(item) => {\r\n          const newImageId = await handleImage(item.imageid);\r\n          console.log(newImageId);\r\n          return {...item, imageid: newImageId};\r\n        }));\r\n      \r\n        setItems(updatedItems);\r\n      }catch(err){\r\n        console.log(err);\r\n      }\r\n    };\r\n    fetchData();\r\n\r\n  },[]);\r\n  \r\n  return (\r\n    <div className=\"container-fluid mt-5\">\r\n      <div className=\"row\">\r\n        {items.map((item) => (\r\n          <div className=\"col-md-4 col-sm-6 mb-4\" key={item.id}>\r\n            <Link to={`/item/${item.id}`} className=\"text-dark text-decoration-none\">\r\n              <div className=\"card h-100\">\r\n                <img src={item.imageid} className=\"card-img-top\" alt={item.title} />\r\n                <div className=\"card-body\">\r\n                  <h5 className=\"card-title\">{item.title}</h5>\r\n                  <p className=\"card-text\">{item.price}</p>\r\n                  <p className=\"card-text\">{item.isSold ? 'SOLD' : 'AVAILABLE'}</p>\r\n                </div>\r\n              </div>\r\n            </Link>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n\r\n\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}